basePath: /
definitions:
  category.Category:
    properties:
      created_at:
        type: string
      description:
        type: string
      id:
        type: integer
      image_url:
        type: string
      is_active:
        type: boolean
      name:
        type: string
      slug:
        type: string
      updated_at:
        type: string
    type: object
  report.ChartMetadata:
    properties:
      chart_type:
        description: bar, line, pie, etc.
        type: string
      created_at:
        type: string
      data_points:
        type: integer
      description:
        type: string
      id:
        type: integer
      is_active:
        type: boolean
      order:
        type: integer
      report:
        $ref: '#/definitions/report.Report'
      report_id:
        type: integer
      title:
        type: string
      updated_at:
        type: string
    type: object
  report.FAQ:
    properties:
      answer:
        type: string
      question:
        type: string
    type: object
  report.KeyPlayer:
    properties:
      description:
        type: string
      marketShare:
        type: string
      name:
        type: string
      rank:
        type: integer
    type: object
  report.MarketMetrics:
    properties:
      cagr:
        type: string
      cagrEndYear:
        type: integer
      cagrStartYear:
        type: integer
      currentRevenue:
        type: string
      currentYear:
        type: integer
      forecastRevenue:
        type: string
      forecastYear:
        type: integer
    type: object
  report.Report:
    properties:
      access_type:
        type: string
      approved_at:
        type: string
      approved_by:
        type: integer
      author_ids:
        description: Authors (JSON array of user IDs)
        items:
          type: integer
        type: array
      category_id:
        type: integer
      created_at:
        description: Timestamps
        type: string
      created_by:
        description: User tracking (admin metadata)
        type: integer
      currency:
        type: string
      description:
        type: string
      discounted_price:
        type: number
      download_count:
        type: integer
      faqs:
        description: FAQs
        items:
          $ref: '#/definitions/report.FAQ'
        type: array
      formats:
        items:
          type: string
        type: array
      geography:
        items:
          type: string
        type: array
      id:
        type: integer
      internal_notes:
        type: string
      is_featured:
        type: boolean
      key_players:
        items:
          $ref: '#/definitions/report.KeyPlayer'
        type: array
      market_metrics:
        allOf:
        - $ref: '#/definitions/report.MarketMetrics'
        description: Market data
      meta_description:
        type: string
      meta_keywords:
        type: string
      meta_title:
        description: Legacy fields (kept for backward compatibility)
        type: string
      metadata:
        allOf:
        - $ref: '#/definitions/report.ReportMetadata'
        description: SEO Metadata
      page_count:
        description: Report details
        type: integer
      price:
        description: Pricing
        type: number
      publish_date:
        description: Publishing
        type: string
      scheduled_publish_at:
        type: string
      sections:
        allOf:
        - $ref: '#/definitions/report.ReportSections'
        description: Content sections
      slug:
        type: string
      status:
        description: Status and access
        type: string
      summary:
        type: string
      thumbnail_url:
        type: string
      title:
        type: string
      updated_at:
        type: string
      updated_by:
        type: integer
      view_count:
        description: Statistics
        type: integer
      workflow_status:
        description: Workflow management
        type: string
    type: object
  report.ReportMetadata:
    properties:
      canonicalUrl:
        type: string
      keywords:
        items:
          type: string
        type: array
      metaDescription:
        type: string
      metaTitle:
        type: string
      ogDescription:
        type: string
      ogImage:
        type: string
      ogTitle:
        type: string
      ogType:
        type: string
      robotsDirective:
        type: string
      schemaJson:
        type: string
      twitterCard:
        type: string
    type: object
  report.ReportSections:
    properties:
      competitive:
        type: string
      conclusion:
        type: string
      executiveSummary:
        type: string
      keyFindings:
        type: string
      keyPlayers:
        type: string
      marketDetails:
        type: string
      marketOverview:
        type: string
      marketSize:
        type: string
      regional:
        type: string
      tableOfContents:
        type: string
      trends:
        type: string
    type: object
  report.ReportVersion:
    properties:
      created_at:
        type: string
      id:
        type: integer
      metadata:
        $ref: '#/definitions/report.ReportMetadata'
      published_at:
        type: string
      published_by:
        description: User ID who published
        type: integer
      report:
        $ref: '#/definitions/report.Report'
      report_id:
        type: integer
      sections:
        $ref: '#/definitions/report.ReportSections'
      version_number:
        type: integer
    type: object
  report.ReportWithRelations:
    properties:
      access_type:
        type: string
      approved_at:
        type: string
      approved_by:
        type: integer
      author:
        $ref: '#/definitions/report.UserReference'
      author_ids:
        description: Authors (JSON array of user IDs)
        items:
          type: integer
        type: array
      category_id:
        type: integer
      category_name:
        type: string
      charts:
        items:
          $ref: '#/definitions/report.ChartMetadata'
        type: array
      created_at:
        description: Timestamps
        type: string
      created_by:
        description: User tracking (admin metadata)
        type: integer
      currency:
        type: string
      description:
        type: string
      discounted_price:
        type: number
      download_count:
        type: integer
      faqs:
        description: FAQs
        items:
          $ref: '#/definitions/report.FAQ'
        type: array
      formats:
        items:
          type: string
        type: array
      geography:
        items:
          type: string
        type: array
      id:
        type: integer
      internal_notes:
        type: string
      is_featured:
        type: boolean
      key_players:
        items:
          $ref: '#/definitions/report.KeyPlayer'
        type: array
      market_metrics:
        allOf:
        - $ref: '#/definitions/report.MarketMetrics'
        description: Market data
      meta_description:
        type: string
      meta_keywords:
        type: string
      meta_title:
        description: Legacy fields (kept for backward compatibility)
        type: string
      metadata:
        allOf:
        - $ref: '#/definitions/report.ReportMetadata'
        description: SEO Metadata
      page_count:
        description: Report details
        type: integer
      price:
        description: Pricing
        type: number
      publish_date:
        description: Publishing
        type: string
      scheduled_publish_at:
        type: string
      sections:
        allOf:
        - $ref: '#/definitions/report.ReportSections'
        description: Content sections
      slug:
        type: string
      status:
        description: Status and access
        type: string
      summary:
        type: string
      thumbnail_url:
        type: string
      title:
        type: string
      updated_at:
        type: string
      updated_by:
        type: integer
      versions:
        items:
          $ref: '#/definitions/report.ReportVersion'
        type: array
      view_count:
        description: Statistics
        type: integer
      workflow_status:
        description: Workflow management
        type: string
    type: object
  report.UserReference:
    properties:
      email:
        type: string
      id:
        type: integer
      name:
        type: string
    type: object
  response.Meta:
    properties:
      cursor:
        type: string
      limit:
        type: integer
      page:
        type: integer
      total:
        type: integer
      total_pages:
        type: integer
    type: object
  response.Response:
    properties:
      data: {}
      error:
        type: string
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  user.CreateUserRequest:
    properties:
      email:
        type: string
      name:
        type: string
      password:
        minLength: 8
        type: string
      role:
        enum:
        - admin
        - editor
        - viewer
        type: string
    required:
    - email
    - name
    - password
    - role
    type: object
  user.LoginRequest:
    properties:
      email:
        type: string
      password:
        minLength: 6
        type: string
    required:
    - email
    - password
    type: object
  user.LoginResponse:
    properties:
      access_token:
        type: string
      expires_in:
        description: seconds
        type: integer
      refresh_token:
        type: string
      token_type:
        type: string
      user:
        $ref: '#/definitions/user.UserResponse'
    type: object
  user.LogoutRequest:
    properties:
      refresh_token:
        type: string
    type: object
  user.RefreshRequest:
    properties:
      refresh_token:
        type: string
    required:
    - refresh_token
    type: object
  user.RefreshResponse:
    properties:
      access_token:
        type: string
      expires_in:
        description: seconds
        type: integer
      refresh_token:
        type: string
      token_type:
        type: string
    type: object
  user.UpdateUserRequest:
    properties:
      email:
        type: string
      is_active:
        type: boolean
      name:
        type: string
      password:
        minLength: 8
        type: string
      role:
        enum:
        - admin
        - editor
        - viewer
        type: string
    type: object
  user.UserResponse:
    properties:
      created_at:
        type: string
      email:
        type: string
      id:
        type: integer
      is_active:
        type: boolean
      last_login_at:
        type: string
      name:
        type: string
      role:
        type: string
      updated_at:
        type: string
    type: object
host: 192.168.1.2:8081
info:
  contact:
    email: support@example.com
    name: API Support
  description: RESTful API for healthcare market research reports and categories with
    caching and pagination support
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  termsOfService: https://example.com/terms/
  title: Healthcare Market Research API
  version: "1.0"
paths:
  /api/v1/auth/login:
    post:
      consumes:
      - application/json
      description: Authenticate user with email and password
      parameters:
      - description: Login credentials
        in: body
        name: credentials
        required: true
        schema:
          $ref: '#/definitions/user.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                data:
                  $ref: '#/definitions/user.LoginResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "401":
          description: Unauthorized
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "429":
          description: Too Many Requests
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
      summary: User login
      tags:
      - Authentication
  /api/v1/auth/logout:
    post:
      consumes:
      - application/json
      description: Invalidate refresh token
      parameters:
      - description: Refresh token to invalidate
        in: body
        name: logout
        schema:
          $ref: '#/definitions/user.LogoutRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                data:
                  additionalProperties:
                    type: string
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "401":
          description: Unauthorized
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
      security:
      - BearerAuth: []
      summary: User logout
      tags:
      - Authentication
  /api/v1/auth/refresh:
    post:
      consumes:
      - application/json
      description: Generate new access token using refresh token
      parameters:
      - description: Refresh token
        in: body
        name: refresh
        required: true
        schema:
          $ref: '#/definitions/user.RefreshRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                data:
                  $ref: '#/definitions/user.RefreshResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "401":
          description: Unauthorized
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
      summary: Refresh access token
      tags:
      - Authentication
  /api/v1/categories:
    get:
      consumes:
      - application/json
      description: Get a paginated list of all active healthcare report categories
      parameters:
      - description: 'Page number (default: 1, min: 1)'
        in: query
        name: page
        type: integer
      - description: 'Items per page (default: 20, max: 100)'
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List of categories with pagination metadata
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/category.Category'
                  type: array
                meta:
                  $ref: '#/definitions/response.Meta'
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
      summary: Get all categories
      tags:
      - Categories
  /api/v1/categories/{slug}:
    get:
      consumes:
      - application/json
      description: Get a single healthcare report category by its unique slug
      parameters:
      - description: Category slug
        in: path
        name: slug
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Category details
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                data:
                  $ref: '#/definitions/category.Category'
              type: object
        "400":
          description: Bad request - slug is required
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "404":
          description: Category not found
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
      summary: Get category by slug
      tags:
      - Categories
  /api/v1/categories/{slug}/reports:
    get:
      consumes:
      - application/json
      description: Get a paginated list of reports belonging to a specific category
      parameters:
      - description: Category slug
        in: path
        name: slug
        required: true
        type: string
      - description: 'Page number (default: 1, min: 1)'
        in: query
        name: page
        type: integer
      - description: 'Items per page (default: 20, max: 100)'
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List of reports in category with pagination metadata
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/report.ReportWithRelations'
                  type: array
                meta:
                  $ref: '#/definitions/response.Meta'
              type: object
        "400":
          description: Bad request - category slug is required
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
      summary: Get reports by category slug
      tags:
      - Reports
  /api/v1/reports:
    get:
      consumes:
      - application/json
      description: Get a paginated list of healthcare market research reports with
        optional filters for status, category, geography, access type, and search.
        Admin users can use additional filters for user tracking, workflow status,
        and date ranges. Admin-only fields are automatically included in responses
        for authenticated admin/editor users.
      parameters:
      - description: 'Page number (default: 1, min: 1)'
        in: query
        name: page
        type: integer
      - description: 'Items per page (default: 20, max: 100)'
        in: query
        name: limit
        type: integer
      - description: Filter by status (draft or published)
        in: query
        name: status
        type: string
      - description: Filter by category slug
        in: query
        name: category
        type: string
      - description: Filter by geography (comma-separated, e.g., 'North America,Europe')
        in: query
        name: geography
        type: string
      - description: Filter by access type (free or paid)
        in: query
        name: accessType
        type: string
      - description: Search in title, summary, and description
        in: query
        name: search
        type: string
      - description: 'Admin only: Filter by creator user ID'
        in: query
        name: created_by
        type: integer
      - description: 'Admin only: Filter by last updater user ID'
        in: query
        name: updated_by
        type: integer
      - description: 'Admin only: Filter by workflow status (draft, pending_review,
          approved, rejected, scheduled, published, archived)'
        in: query
        name: workflow_status
        type: string
      - description: 'Admin only: Filter by created date (ISO 8601, e.g., 2024-01-01T00:00:00Z)'
        in: query
        name: created_after
        type: string
      - description: 'Admin only: Filter by created date (ISO 8601)'
        in: query
        name: created_before
        type: string
      - description: 'Admin only: Filter by updated date (ISO 8601)'
        in: query
        name: updated_after
        type: string
      - description: 'Admin only: Filter by updated date (ISO 8601)'
        in: query
        name: updated_before
        type: string
      - description: 'Admin only: Filter by published date (ISO 8601)'
        in: query
        name: published_after
        type: string
      - description: 'Admin only: Filter by published date (ISO 8601)'
        in: query
        name: published_before
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: List of reports with pagination metadata. Admin fields (created_by,
            updated_by, internal_notes, workflow_status, scheduled_publish_at, approved_by,
            approved_at) are included only for authenticated admin/editor users.
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/report.Report'
                  type: array
                meta:
                  $ref: '#/definitions/response.Meta'
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
      summary: Get all reports with optional filters
      tags:
      - Reports
    post:
      consumes:
      - application/json
      description: Create a new healthcare market research report. Automatically sets
        created_by and updated_by to the authenticated user, and workflow_status to
        'draft'. Requires admin or editor role.
      parameters:
      - description: Report data
        in: body
        name: report
        required: true
        schema:
          $ref: '#/definitions/report.Report'
      produces:
      - application/json
      responses:
        "201":
          description: Created report with auto-populated admin tracking fields
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                data:
                  $ref: '#/definitions/report.Report'
              type: object
        "400":
          description: Bad request - invalid input
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "401":
          description: Unauthorized - authentication required
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "403":
          description: Forbidden - requires admin or editor role
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
      security:
      - BearerAuth: []
      summary: Create a new report
      tags:
      - Reports
  /api/v1/reports/{id}:
    delete:
      consumes:
      - application/json
      description: Delete a healthcare market research report by ID. Permanently removes
        the report and all associated data. Requires admin role.
      parameters:
      - description: Report ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Report deleted successfully
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                data:
                  additionalProperties:
                    type: string
                  type: object
              type: object
        "400":
          description: Bad request - invalid ID
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "401":
          description: Unauthorized - authentication required
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "403":
          description: Forbidden - requires admin role
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "404":
          description: Report not found
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
      security:
      - BearerAuth: []
      summary: Delete a report
      tags:
      - Reports
    put:
      consumes:
      - application/json
      description: Update an existing healthcare market research report by ID. Automatically
        updates updated_by field. If workflow_status changes to 'approved', sets approved_by
        and approved_at. Creates version history when status changes to 'published'.
        Requires admin or editor role.
      parameters:
      - description: Report ID
        in: path
        name: id
        required: true
        type: integer
      - description: Updated report data
        in: body
        name: report
        required: true
        schema:
          $ref: '#/definitions/report.Report'
      produces:
      - application/json
      responses:
        "200":
          description: Updated report with auto-updated admin tracking fields
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                data:
                  $ref: '#/definitions/report.Report'
              type: object
        "400":
          description: Bad request - invalid input
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "401":
          description: Unauthorized - authentication required
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "403":
          description: Forbidden - requires admin or editor role
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "404":
          description: Report not found
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
      security:
      - BearerAuth: []
      summary: Update a report
      tags:
      - Reports
  /api/v1/reports/{id}/approve:
    post:
      consumes:
      - application/json
      description: Approve a report (changes workflow_status from 'pending_review'
        to 'approved'). Can only be called on reports with workflow_status of 'pending_review'.
        Automatically sets approved_by to the authenticated user and approved_at to
        current timestamp. Updates updated_by field. Requires admin role only.
      parameters:
      - description: Report ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Report approved successfully
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                data:
                  type: string
              type: object
        "400":
          description: Bad request - invalid ID or invalid workflow transition (e.g.,
            report is not in pending_review status)
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "401":
          description: Unauthorized - authentication required
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "403":
          description: Forbidden - requires admin role
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "404":
          description: Report not found
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
      security:
      - BearerAuth: []
      summary: Approve report
      tags:
      - Reports - Workflow
  /api/v1/reports/{id}/reject:
    post:
      consumes:
      - application/json
      description: Reject a report with a reason (changes workflow_status from 'pending_review'
        to 'rejected'). Can only be called on reports with workflow_status of 'pending_review'.
        Automatically appends rejection reason with timestamp to internal_notes field.
        Updates updated_by field. Requires admin role only.
      parameters:
      - description: Report ID
        in: path
        name: id
        required: true
        type: integer
      - description: Rejection details - reason field is required and will be appended
          to internal_notes
        in: body
        name: body
        required: true
        schema:
          properties:
            reason:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: Report rejected successfully
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                data:
                  type: string
              type: object
        "400":
          description: Bad request - invalid ID, missing reason, or invalid workflow
            transition (e.g., report is not in pending_review status)
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "401":
          description: Unauthorized - authentication required
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "403":
          description: Forbidden - requires admin role
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "404":
          description: Report not found
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
      security:
      - BearerAuth: []
      summary: Reject report
      tags:
      - Reports - Workflow
  /api/v1/reports/{id}/schedule:
    post:
      consumes:
      - application/json
      description: Schedule an approved report for future publishing (changes workflow_status
        from 'approved' to 'scheduled'). Can only be called on reports with workflow_status
        of 'approved'. Sets scheduled_publish_at to the provided timestamp. The scheduled
        time must be in the future. Requires admin role only.
      parameters:
      - description: Report ID
        in: path
        name: id
        required: true
        type: integer
      - description: Schedule details - scheduled_at must be a future timestamp in
          RFC3339 format (e.g., '2024-02-01T10:00:00Z')
        in: body
        name: body
        required: true
        schema:
          properties:
            scheduled_at:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: Report scheduled for publishing successfully
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                data:
                  type: string
              type: object
        "400":
          description: Bad request - invalid ID, missing/invalid scheduled_at, scheduled
            time is in the past, or invalid workflow transition (e.g., report is not
            in approved status)
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "401":
          description: Unauthorized - authentication required
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "403":
          description: Forbidden - requires admin role
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "404":
          description: Report not found
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
      security:
      - BearerAuth: []
      summary: Schedule report for publishing
      tags:
      - Reports - Workflow
  /api/v1/reports/{id}/submit-review:
    post:
      consumes:
      - application/json
      description: Submit a report for review (changes workflow_status from 'draft'
        or 'rejected' to 'pending_review'). Can only be called on reports with workflow_status
        of 'draft' or 'rejected'. Updates the updated_by field to the authenticated
        user. Requires admin or editor role.
      parameters:
      - description: Report ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Report submitted for review successfully
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                data:
                  type: string
              type: object
        "400":
          description: Bad request - invalid ID or invalid workflow transition (e.g.,
            report is not in draft/rejected status)
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "401":
          description: Unauthorized - authentication required
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "403":
          description: Forbidden - requires admin or editor role
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "404":
          description: Report not found
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
      security:
      - BearerAuth: []
      summary: Submit report for review
      tags:
      - Reports - Workflow
  /api/v1/reports/{slug}:
    get:
      consumes:
      - application/json
      description: Get a single healthcare market research report by its unique slug
      parameters:
      - description: Report slug
        in: path
        name: slug
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Report details with relations
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                data:
                  $ref: '#/definitions/report.ReportWithRelations'
              type: object
        "400":
          description: Bad request - slug is required
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "404":
          description: Report not found
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
      summary: Get report by slug
      tags:
      - Reports
  /api/v1/search:
    get:
      consumes:
      - application/json
      description: Search for healthcare market research reports by query text (searches
        in title, description, and summary)
      parameters:
      - description: Search query text
        in: query
        name: q
        required: true
        type: string
      - description: 'Page number (default: 1, min: 1)'
        in: query
        name: page
        type: integer
      - description: 'Items per page (default: 20, max: 100)'
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Search results with pagination metadata
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/report.ReportWithRelations'
                  type: array
                meta:
                  $ref: '#/definitions/response.Meta'
              type: object
        "400":
          description: Bad request - search query is required
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
      summary: Search reports
      tags:
      - Reports
  /api/v1/users:
    get:
      description: Get all users with pagination (admin only)
      parameters:
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 20
        description: Items per page
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/user.UserResponse'
                  type: array
              type: object
        "401":
          description: Unauthorized
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "403":
          description: Forbidden
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
      security:
      - BearerAuth: []
      summary: Get all users
      tags:
      - Users
    post:
      consumes:
      - application/json
      description: Create a new user (admin only)
      parameters:
      - description: User data
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/user.CreateUserRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                data:
                  $ref: '#/definitions/user.UserResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "401":
          description: Unauthorized
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "403":
          description: Forbidden
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
      security:
      - BearerAuth: []
      summary: Create a new user
      tags:
      - Users
  /api/v1/users/{id}:
    delete:
      description: Soft-delete a user (admin only)
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                data:
                  additionalProperties:
                    type: string
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "401":
          description: Unauthorized
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "403":
          description: Forbidden
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "404":
          description: Not Found
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
      security:
      - BearerAuth: []
      summary: Delete a user
      tags:
      - Users
    put:
      consumes:
      - application/json
      description: Update a user's information (admin only)
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: integer
      - description: User data to update
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/user.UpdateUserRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                data:
                  additionalProperties:
                    type: string
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "401":
          description: Unauthorized
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "403":
          description: Forbidden
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
        "404":
          description: Not Found
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
      security:
      - BearerAuth: []
      summary: Update a user
      tags:
      - Users
  /api/v1/users/me:
    get:
      description: Get the currently authenticated user's information
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                data:
                  $ref: '#/definitions/user.UserResponse'
              type: object
        "401":
          description: Unauthorized
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                error:
                  type: string
              type: object
      security:
      - BearerAuth: []
      summary: Get current user
      tags:
      - Users
  /health:
    get:
      consumes:
      - application/json
      description: Check if the API is running and healthy
      produces:
      - application/json
      responses:
        "200":
          description: API is healthy
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                data:
                  additionalProperties:
                    type: string
                  type: object
              type: object
      summary: Health check
      tags:
      - Health
schemes:
- http
- https
securityDefinitions:
  BearerAuth:
    description: Type "Bearer" followed by a space and JWT token.
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
tags:
- description: Health check endpoints
  name: Health
- description: User authentication and token management
  name: Authentication
- description: User management operations
  name: Users
- description: Operations related to healthcare market research reports
  name: Reports
- description: Operations related to report categories and hierarchies
  name: Categories
